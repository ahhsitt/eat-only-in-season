# Feature Specification: Ant Design UI 升级

**Feature Branch**: `004-antd-ui-redesign`
**Created**: 2026-01-13
**Status**: Draft
**Input**: User description: "优化样式，使用Ant Design，让整体页面更加大气、流畅"

## Overview

将现有的 Tailwind CSS 样式替换为 Ant Design 组件库，提升用户界面的专业感、一致性和流畅度。通过采用成熟的企业级组件库，让应用呈现更加大气、现代的视觉效果，同时保持良好的用户体验和交互流畅性。

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 首页搜索体验升级 (Priority: P1)

用户访问首页时，看到的是一个设计精美、布局合理的搜索界面。城市输入框采用专业的搜索组件，支持输入联想；食材列表以卡片形式展示，分类清晰，点击选择时有流畅的视觉反馈。整体页面给人大气、专业的第一印象。

**Why this priority**: 首页是用户的第一接触点，直接影响用户对应用的整体印象和继续使用的意愿。

**Independent Test**: 可以独立验证首页的视觉效果和交互体验，通过打开首页、输入城市、浏览食材列表、选择食材等操作验证。

**Acceptance Scenarios**:

1. **Given** 用户打开应用首页, **When** 页面加载完成, **Then** 看到统一的 Ant Design 风格界面，布局整洁大气
2. **Given** 用户在城市搜索框输入内容, **When** 聚焦和输入时, **Then** 输入框有明确的视觉反馈，搜索按钮清晰可点击
3. **Given** 食材列表已加载, **When** 用户浏览食材, **Then** 食材以分类卡片形式展示，选中状态有清晰的视觉区分
4. **Given** 用户选择了食材, **When** 点击"获取菜谱"按钮, **Then** 按钮样式醒目，点击反馈流畅

---

### User Story 2 - 菜谱列表页面优化 (Priority: P1)

用户从首页进入菜谱列表页面后，看到的是一个排版精美的菜谱推荐列表。每个菜谱以卡片形式展示，包含标题、描述、标签等信息，布局美观。页面加载时有合适的加载状态，空状态和错误状态也有友好的提示。

**Why this priority**: 菜谱列表是用户核心使用流程的关键节点，展示效果直接影响用户选择菜谱的决策。

**Independent Test**: 可以通过带参数访问菜谱列表页面，验证菜谱卡片展示、加载状态、空状态处理等功能。

**Acceptance Scenarios**:

1. **Given** 用户进入菜谱列表页面, **When** 数据正在加载, **Then** 显示专业的加载动画或骨架屏
2. **Given** 菜谱数据已加载, **When** 用户浏览菜谱列表, **Then** 菜谱以美观的卡片形式展示，信息层次清晰
3. **Given** 用户悬停在菜谱卡片上, **When** 鼠标悬停, **Then** 卡片有微妙的悬停效果，提示可点击
4. **Given** 没有匹配的菜谱, **When** 页面显示空状态, **Then** 显示友好的空状态提示，引导用户操作

---

### User Story 3 - 菜谱详情页面美化 (Priority: P2)

用户点击菜谱进入详情页面后，看到的是一个结构清晰、视觉美观的菜谱详情。食材清单、烹饪步骤、小贴士等内容分区明确，图片展示效果好，PDF导出按钮位置合理且易于发现。

**Why this priority**: 详情页是用户获取价值的最终页面，良好的展示效果能提升用户满意度。

**Independent Test**: 可以通过直接访问菜谱详情页面，验证各个内容区块的展示效果和交互功能。

**Acceptance Scenarios**:

1. **Given** 用户进入菜谱详情页, **When** 页面加载完成, **Then** 菜谱信息以清晰的区块展示，层次分明
2. **Given** 菜谱有配图, **When** 图片加载, **Then** 图片展示区域美观，加载过程有占位效果
3. **Given** 用户查看烹饪步骤, **When** 浏览步骤列表, **Then** 步骤编号清晰，内容排版易读
4. **Given** 用户想导出PDF, **When** 查看导出功能, **Then** 导出按钮位置醒目，点击后有明确的状态反馈

---

### User Story 4 - 食材详情弹窗优化 (Priority: P2)

用户点击食材查看详情时，弹出一个设计精美的模态框，展示食材的应季原因、营养价值、挑选建议等信息。弹窗有流畅的打开关闭动画，内容排版舒适易读。

**Why this priority**: 食材详情是辅助功能，但良好的弹窗体验能增强用户对产品细节的好感。

**Independent Test**: 可以在首页点击任意食材的"了解更多"按钮，验证弹窗展示效果。

**Acceptance Scenarios**:

1. **Given** 用户点击食材详情按钮, **When** 弹窗打开, **Then** 弹窗以流畅动画展开，背景适度模糊
2. **Given** 弹窗已打开, **When** 用户阅读内容, **Then** 内容分区清晰（应季原因、营养价值、挑选建议等）
3. **Given** 用户想关闭弹窗, **When** 点击关闭按钮或点击遮罩层, **Then** 弹窗平滑关闭

---

### User Story 5 - 全局布局与导航优化 (Priority: P3)

应用有统一的顶部导航栏，显示应用名称和必要的导航链接。页面有一致的页边距和内容宽度限制，在不同屏幕尺寸下都能良好展示。

**Why this priority**: 全局布局是锦上添花的功能，不影响核心使用流程。

**Independent Test**: 可以在不同页面验证导航栏显示和页面布局一致性。

**Acceptance Scenarios**:

1. **Given** 用户在任意页面, **When** 查看页面顶部, **Then** 看到统一的导航栏，品牌标识清晰
2. **Given** 用户在不同设备上访问, **When** 页面加载, **Then** 布局能自适应屏幕宽度，保持美观

---

### User Story 6 - 加载与错误状态统一 (Priority: P3)

所有页面在加载数据时显示统一的加载状态，遇到错误时显示友好的错误提示。用户可以通过重试按钮重新加载数据。

**Why this priority**: 统一的状态处理提升用户体验，但不是核心功能。

**Independent Test**: 可以通过模拟网络慢或错误，验证各页面的加载和错误状态展示。

**Acceptance Scenarios**:

1. **Given** 任意页面正在加载数据, **When** 等待响应, **Then** 显示统一风格的加载指示器
2. **Given** 数据加载失败, **When** 显示错误状态, **Then** 错误提示友好，提供重试选项

---

### Edge Cases

- 网络超时或断开时，用户能看到清晰的错误提示和重试选项
- 页面在移动设备上访问时，组件和布局能合理适配
- 主题颜色与应用品牌调性（应季食材、自然健康）保持一致

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统 MUST 使用 Ant Design 组件库替换现有的自定义样式组件
- **FR-002**: 系统 MUST 保持所有现有功能的完整性，样式升级不影响功能
- **FR-003**: 首页城市搜索 MUST 使用 Ant Design 的输入框和按钮组件
- **FR-004**: 食材列表 MUST 使用卡片组件展示，支持选中状态
- **FR-005**: 菜谱列表 MUST 使用卡片组件展示，包含标题、描述、标签信息
- **FR-006**: 菜谱详情页 MUST 使用清晰的区块划分展示食材、步骤、小贴士
- **FR-007**: 食材详情 MUST 使用模态框组件展示
- **FR-008**: 系统 MUST 提供统一的加载状态组件（Spin 或 Skeleton）
- **FR-009**: 系统 MUST 提供统一的错误状态展示和重试机制
- **FR-010**: 系统 MUST 配置符合应用调性的主题色（绿色系，呼应自然健康主题）
- **FR-011**: 系统 MUST 保持响应式布局，适配桌面和移动设备

### Key Entities

- **页面组件**: 首页、菜谱列表页、菜谱详情页、设置页
- **通用组件**: 导航栏、卡片、按钮、输入框、模态框、加载指示器、错误提示
- **主题配置**: 主题色、字体、间距等视觉变量

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 所有页面在视觉上呈现统一的设计风格，无明显样式冲突
- **SC-002**: 用户完成核心流程（搜索城市 → 选择食材 → 查看菜谱 → 查看详情）的操作体验流畅无阻塞
- **SC-003**: 页面在 1920x1080 桌面屏幕和 375x667 移动屏幕上都能正常展示
- **SC-004**: 所有交互元素（按钮、卡片、输入框）有明确的视觉反馈
- **SC-005**: 加载状态和错误状态在所有页面呈现一致的样式
- **SC-006**: 页面首次加载时间不因样式升级而明显增加（保持在 3 秒以内）

## Assumptions

- 保留现有的页面路由结构，不改变 URL 设计
- 保留现有的数据流和 API 调用方式，仅替换 UI 组件
- 使用 Ant Design 5.x 版本，该版本支持 CSS-in-JS 和树摇优化
- 主题配色以绿色为主色调，呼应"不时不食"的自然健康理念
- 移除 Tailwind CSS 依赖，完全使用 Ant Design 的样式系统

## Out of Scope

- 后端 API 变更
- 新增页面或功能
- 国际化支持
- 暗黑模式支持
- 无障碍访问优化（可作为后续功能）
